# [통합 유저 시나리오] 모아 캘린더 (Moa Calendar)

## 1. 페르소나 및 배경 (Persona & Context)

*   **호스트 (Min-su):** 30대 직장인. 꼼꼼한 성격. 월급날은 25일. 아내와 돈 관리를 합치고 싶어 함.
*   **게스트 (Ji-eun):** 민수의 아내. 복잡한 건 싫고 직관적인 걸 선호함. 민수의 초대를 받아 앱을 설치함.
*   **목표:** 개인의 자산 관리로 시작해, 부부의 '공동 자산' 관리로 확장하는 경험.

---

## 2. 시나리오 상세 (Detailed Scenario)

### Phase 1. 호스트(민수)의 시작: 개인 비서로 활용하기

#### Scene 1-1. 회원가입 및 초기 세팅
1.  **진입:** 민수는 앱을 설치하고 **[회원가입]** 버튼을 누른다.
2.  **정보 입력:** 이메일(ID), 비밀번호, 닉네임("민수")을 입력한다.
3.  **색상 선택:** 달력에서 본인의 일정을 표시할 고유 색상으로 **'파란색(#5B9FFF)'**을 선택한다.
4.  **달력 생성:** "달력 이름을 정해주세요" 화면에서 **"민수의 하루"**라고 입력하고 완료한다.
5.  **설정:** 메인 화면 진입 후 햄버거 메뉴(≡) > 설정에서 **가계부 시작일**을 월급날인 **'25일'**로 변경한다.

#### Scene 1-2. 개인 일정 및 지출 등록 (더블 탭)
1.  **등록 액션:** 2월 14일 발렌타인데이에 선물을 사기 위해, 달력 날짜를 **따닥(Double Tap)** 누른다.
2.  **일정 입력:**
    *   `[일정]` 탭에서 시간(19:00), 제목("지은 선물 사기")을 입력한다.
    *   **[태그]**에서 `#기념일`을 선택하고 저장한다.
3.  **지출 입력 (자산 출처 활용):**
    *   선물을 산 직후, 다시 14일을 **따닥** 눌러 `[지출]` 탭을 연다.
    *   금액(150,000원), 분류(🎁선물)를 입력한다.
    *   **자산(Source)**에서 `[내 신용카드A]`를 선택하여 카드 실적을 기록한다.
    *   **일정 연결:** 아까 등록한 "지은 선물 사기" 일정을 선택해 연결한다.
    *   *결과:* 개인 자산이므로 **[Personal]** 태그(분홍색)가 자동 적용된다.

#### Scene 1-3. 조회 및 수정 (원 탭)
1.  **조회:** 며칠 뒤, 14일을 **한 번(1 Tap)** 누른다.
2.  **리스트 확인:** 하단 리스트 영역에 `🎁 선물 -150,000원 [개인]` 내역이 뜬다.
3.  **수정:** 금액을 잘못 적은 것 같아 리스트를 터치하여 수정 모달을 열고 금액을 정정한다.

---

### Phase 2. 공유 확장: 함께 쓰기 시작

#### Scene 2-1. 호스트(민수)의 초대
1.  **공유 메뉴:** 민수는 햄버거 메뉴(≡) > **[캘린더 공유]**를 선택한다.
2.  **초대 발송:** 지은의 이메일(`jieun@email.com`)을 입력하여 초대장을 발송한다. 상태가 '초대 중'으로 표시된다.

#### Scene 2-2. 게스트(지은)의 진입 및 합류
1.  **가입:** 지은은 초대 메일의 링크를 통해 앱을 설치하고 회원가입을 한다. 본인의 색상은 **'주황색(#FF9800)'**을 선택한다.
2.  **개인 달력 생성:** 가입 직후 지은에게도 **'지은의 달력(개인)'**이 먼저 생성된다.
3.  **초대 수락:**
    *   앱 진입 시 **"민수님이 '민수의 하루' 캘린더에 초대했습니다."** 팝업이 뜬다.
    *   **[수락]**을 누르자, 상단 헤더의 달력 이름이 '지은의 달력'에서 **'민수의 하루(공유됨)'**으로 자동 전환된다.
4.  **화면 변화:**
    *   달력에 민수가 기록해둔 파란색 일정들이 보인다.
    *   상단 필터 바에 **[All] - [Me] - [민수]** 버튼이 생성된다.

---

### Phase 3. 협업 시나리오: 공동 자산 관리

#### Scene 3-1. 게스트(지은)의 공용 지출 등록
1.  **상황:** 지은이 마트에서 부부 생활비로 장을 봤다.
2.  **등록:** 20일 날짜를 **더블 탭**하고 `[지출]` 탭을 선택한다.
3.  **자산 구분:**
    *   **Type 토글**이 활성화되어 있다. 기본값인 `[Personal]`을 눌러 **`[Joint]`(공용)**로 변경한다. 색상이 파란색 테마로 바뀐다.
    *   **자산(Source):** `[생활비 통장]`을 선택한다.
    *   금액(80,000원)과 내역(장보기)을 입력하고 저장한다.

#### Scene 3-2. 호스트(민수)의 확인 및 필터링
1.  **알림/확인:** 민수가 앱을 켜니 달력 20일에 지은이가 쓴 **주황색 바(일정)**와 **지출 내역**이 보인다.
2.  **필터링:**
    *   내역이 너무 많아 복잡하다. 상단 **[Me]** 버튼을 누른다.
    *   지은이의 개인적인 일정은 사라지고, 민수의 일정과 '공용'으로 등록된 내역만 깔끔하게 남는다.
3.  **통계 확인:**
    *   하단 **`[통계]`** 탭을 누른다.
    *   이번 달 **[공용]** 예산이 얼마나 남았는지 그래프로 확인한다.
    *   멤버별 비교 차트에서 지은이가 생활비를 더 많이 썼음을 확인한다.

---

### Phase 4. 고급 관리: 자산과 커스터마이징

#### Scene 4-1. 자산 잔액 관리 (공통)
1.  **자산 탭:** 민수는 하단 **`[자산]`** 탭을 누른다.
2.  **현황 파악:** `[생활비 통장]`의 잔액, `[민수 신용카드]`의 누적 사용액, `[지은 체크카드]`의 사용액을 한눈에 파악한다.

#### Scene 4-2. 색상 커스터마이징
1.  **불편함:** 민수는 개인 지출(분홍)과 아내의 일정 색상(주황)이 비슷해 보여 헷갈린다.
2.  **설정:** 햄버거 메뉴 > 설정 > **[자산 색상 설정]**으로 이동한다.
3.  **변경:** **'개인 자산 색상'**을 분홍색에서 **'보라색(#9C27B0)'**으로 변경한다. 이제 달력에서 본인의 개인 지출은 보라색으로 명확히 구분된다.

---

## 3. 화면 및 기능 요약 (Summary Specification)

### A. 메인 캘린더 (Main Screen)
*   **Header:** `캘린더명 ▼` (그룹 전환), `≡` (메뉴), `Filter Bar (All/Me/Partner)`.
*   **AdMob:** 최상단 배너 배치.
*   **Grid:** 1일~말일 뷰. 일정(Bar) + 지출합계(Text) 표시.
*   **Interaction:**
    *   **1 Tap:** 하단 리스트 영역에 상세 내역 노출 (조회/수정 진입).
    *   **2 Tap:** 입력 모달 호출 (신규 등록).
    *   **하단 [+] 버튼:** 리스트 영역 내에서 빠른 등록.

### B. 입력 모달 (Input Modal)
*   **탭:** `일정` | `수입` | `지출`.
*   **핵심 필드:**
    *   **Type:** `[Personal]` vs `[Joint]` (초대 수락 시 활성화).
    *   **Source:** 자산 출처 (현금, 카드, 통장).
    *   **Link:** 일정 연결 (Schedule Link).
    *   **Tag:** 태그 선택 및 반복 설정.

### C. 하단 탭 (Bottom Navigation)
*   **구성:** `[캘린더]`(홈), `[통계]`(분석), `[자산]`(잔액 관리).

### D. 데이터 로직 (Data Logic)
*   **공유:** `Joint` 타입은 멤버 전원에게 공유 및 합산.
*   **개인:** `Personal` 타입은 프라이버시 설정 및 필터에 따라 노출 제어.
*   **기준일:** 설정된 시작일(25일 등)에 맞춰 통계/예산 재계산 (달력 뷰는 유지).